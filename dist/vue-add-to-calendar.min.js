/*!
 * vue-add-to-calendar v1.0.4 
 * (c) 2021 nicolasbeauvais
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.VueAddToCalendar=e()}(this,function(){"use strict";var t={template:'<a :href="$parent.calendarUrl(calendar)" :class="calendarClass" target="_blank"><slot></slot></a>',computed:{calendarClass:function(){return["vue-add-to-calendar",this.calendar+"-calendar"]}}},e={google:{url:"http://www.google.com/calendar/event?action=TEMPLATE&trp=false",parameters:function(t,e,a,n,o){var r={text:t,location:e,details:a};return n&&o&&(r.dates=n+"/"+o),r}},microsoft:{url:"https://outlook.live.com/calendar/0/deeplink/compose?path=/calendar/action/compose&rru=addevent",parameters:function(t,e,a,n,o){return{subject:t,location:e,body:a,startdt:n,enddt:o}}}},a={props:{title:{type:String,default:""},location:{type:String,default:""},details:{type:String,default:""},start:{type:Date,default:null},end:{type:Date,default:null}},data:function(){return{calendars:e}},methods:{calendarUrl:function(t){var e=this.calendars[t].url,a=this.calendars[t].parameters(this.formatString(this.title),this.formatString(this.location),this.formatString(this.details),"microsoft"==t?this.formatMicrosoftDate(this.start):this.formatDate(this.start),"microsoft"==t?this.formatMicrosoftDate(this.end):this.formatDate(this.end));console.log("calendar:",t,"microsoft"===t);for(var n in a)a.hasOwnProperty(n)&&a[n]&&(e+="&"+n+"="+a[n]);return e},formatString:function(t){return encodeURIComponent(t).replace(/%20/g," ")},formatDate:function(t){return console.log("data:",t," ---- iso:",t.toISOString().replace(/-|:|\.\d+/g,"")),t?t.toISOString().replace(/-|:|\.\d+/g,""):null},formatMicrosoftDate:function(t){return console.log("data:",t," ---- iso:",t.toISOString().replace(/-|:|\.\d+/g,"")),t?t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)+"T"+("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+":"+("0"+t.getSeconds()).slice(-2)+"Z":null}},mounted:function(){},components:{"google-calendar":{mixins:[t],data:function(){return{calendar:"google"}}},"microsoft-calendar":{mixins:[t],data:function(){return{calendar:"microsoft"}}}}};return a.version="1.0.4",a.install=function(t){t.component("add-to-calendar",a)},"undefined"!=typeof window&&(window.AddToCalendar=a),a});